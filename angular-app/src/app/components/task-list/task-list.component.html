<div class="task-container">
  <h2 class="task-title">Tasks</h2>

  <!-- Task Form -->
  <div class="task-form">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" id="title" [(ngModel)]="newTask.title">
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea class="form-control" id="description" [(ngModel)]="newTask.description"></textarea>
    </div>
    <button class="btn btn-primary" (click)="addTask()">Create Task</button>
  </div>

  <!-- Point Display -->
  <div class="points-display">
    <p>Points: {{ user?.points || 0 }}</p>
  </div>

  <!-- Task List -->
  <div class="task-list">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="hideCompleted" [(ngModel)]="hideCompleted">
      <label class="form-check-label" for="hideCompleted">Hide Completed Tasks</label>
    </div>
    <ul class="list-group">
      <li class="list-group-item" *ngFor="let task of filteredTasks" (click)="openTaskDetails(task)">
        <div class="task-details">
          <h5>{{ task.title }}</h5>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="completion" [(ngModel)]="task.completion" (change)="updateTask(task)">
            <label class="form-check-label" for="completion">Completed</label>
          </div>
        </div>
        <p>{{ task.description }}</p>
        <button class="btn btn-danger" (click)="deleteTask(task)">Delete</button>
      </li>
      <li class="list-group-item" *ngIf="filteredTasks.length === 0">
        No tasks found.
      </li>
    </ul>
  </div>
</div>
